$(document).ready(function(){function t(){return $("html, body").animate({scrollTop:0},"medium")}var a=$("body");function e(t){return`\n\t\t\t<div class="ui four wide column">\n\t\t\t\t<a href="/renkaat/${tyre._id}" class="tyrecard">\n\t\t\t\t\t<div class="ui orange segment">\n\t\t\t\t\t\t<div class="header-section">\n\t\t\t\t\t\t\t<h4 class="black">${tyre.manufacturer}</h4>\n\t\t\t\t\t\t\t<h4 class="smaller black">${tyre.model}</h4>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<img class="ui medium image" alt="${tyre.manufacturer}, ${tyre.model}" src="${tyre.cover}">\n\t\t\t\t\t\t<p class="no_margin">Alkaen: </p>\n\t\t\t\t\t\t<p>koko: ${size?tyre.getPriceSize(size):tyre.getMinPriceSize()}</p>\n\t\t\t\t\t\t<p class="ui orange big horizontal label">${size?tyre.getPrice(size):tyre.getMinPrice()},00 €/Sarja</p>\n\t\t\t\t\t\t<p><em>Hinta sisältää työt</em></p>\n\t\t\t\t\t</div>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t`}function n(t){return`\n\t\t\t<a class="item" id="first" url="/renkaat?page=${t.pages.first}&category=${t.category}&search=${t.searchTerm}">${t.pages.first}</a>\n\t\t\t<a class="item" id="prev" url="/renkaat?page=${t.pages.prev}&category=${t.category}&search=${t.searchTerm}"><i class="fa fa-chevron-left" aria-hidden="true"></i></a>\n\t\t\t${t.pages.visiblePages.map(a=>`\n\t\t\t\t<a class="item ${a===t.pages.current?"active":"notActive"}" url="/renkaat?page=${a}&category=${t.category}&search=${t.searchTerm}">${a}</a>\n\t\t\t`).join("")}\n\t\t\t<a class="item" id="next" url="/renkaat?page=${t.pages.next}&category=${t.category}&search=${t.searchTerm}"><i class="fa fa-chevron-right" aria-hidden="true"></i></a>\n\t\t\t<a class="item" id="last" url="/renkaat?page=${t.pages.last}&category=${t.category}&search=${t.searchTerm}">${t.pages.last}</a>\n\t\t`}$(document).on({ajaxStart:function(){a.addClass("loading")},ajaxStop:function(){a.removeClass("loading")}}),$(".searchBox").on("change",function(a){a.preventDefault();var e=$(this).val();""!==e&&$.get("/gifts?search="+e+"&page=1",function(a,e,r){r.status<400&&($("#results").html(""),$("#paginationMenu").html(""),a.gifts.forEach(function(t){$("#results").append(setGifts(t))}),$("#paginationMenu").html(n(a)),t())})}),$("#paginationMenu").on("click",".item",function(a){a.stopPropagation(),a.preventDefault();var r=$(this).attr("url");$.get(r,function(a,r,s){s.status<400&&($("#results").html(""),$("#paginationMenu").html(""),a.tyres.forEach(function(t){$("#results").append(e())}),$("#paginationMenu").html(n(a)),t())})})});